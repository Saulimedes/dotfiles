# Basic Settings - Minimal and Stable
no-resume-playback
autofit-larger=80%x80%
geometry=50%:50%
fs=no
screen=0
correct-pts=yes
volume-max=200
title=${media-title}
keep-open=no
stop-screensaver=yes
save-position-on-quit=yes
write-filename-in-watch-later-config
watch-later-directory=~/.local/share/mpv/watch_later

# Cache Settings (minimal for fast startup)
cache=yes
cache-secs=5
demuxer-max-bytes=50MiB
demuxer-max-back-bytes=25MiB

# Video Settings
vo=gpu
hwdec=no
video-sync=audio
hr-seek=yes
hr-seek-framedrop=yes
vd-lavc-codec=h264  # force software decoding instead of broken libopenh264

# Audio Sync Settings
audio-pitch-correction=yes
audio-buffer=1.0
audio-stream-silence=yes
gapless-audio=no

# YouTube-DL / yt-dlp Settings
ytdl-format=bestvideo[height<=?1440]+bestaudio/bestvideo+bestaudio/best
load-unsafe-playlists=yes
input-ipc-server=/tmp/mpv-socket

# Loop Settings for Specific Extensions
[extension.gif]
loop-file=inf

[extension.webm]
loop-file=inf

[extension.jpg]
pause

[extension.png]
pause

# Audio Profile
[audio]
video=no
force-window=yes
force-window=immediate
ytdl-format=bestaudio
script-opts=osc-layout=box,osc-boxalpha=255

[extension.mp3]
profile=audio

# SMB Protocol (simplified)
[protocol.smb]
cache-secs=8
demuxer-max-bytes=100MiB
demuxer-max-back-bytes=50MiB

# Terminal Settings
[terminal]
player-operation-mode=cplayer
term-osd-bar
msg-module
msg-color

# Twitch
[twitch]
profile-desc=cond:get("path", ""):find("twitch.tv")~=nil

