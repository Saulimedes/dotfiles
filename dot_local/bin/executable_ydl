#!/bin/sh
NO_PLAYLIST=0
VIDEO=""

for arg in "$@"; do
    case "$arg" in
        n)
            NO_PLAYLIST=1
            ;;
        *)
            VIDEO="$arg"
            ;;
    esac
done

[ -z "$VIDEO" ] && VIDEO="$(paste)"

[ -z "$VIDEO" ] && {
    echo "No URL provided or found in clipboard." >&2
    exit 1
}

if [ "$NO_PLAYLIST" -eq 1 ]; then
    yt-dlp --no-playlist "$VIDEO"
else
    yt-dlp "$VIDEO"
fi

