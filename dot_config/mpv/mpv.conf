# Basic Settings - Minimal and Stable
autofit-larger=80%x80%
geometry=50%:50%
fs=no
screen=0
correct-pts=yes
volume-max=200
title=${media-title}
keep-open=no
autofile=yes
stop-screensaver=yes
watch-later-directory=~/.local/share/mpv/watch_later

# ui
osd-level=1
quiet

# Cache Settings (minimal for fast startup)
cache=yes
cache-secs=10
cache-pause=yes
demuxer-max-bytes=50MiB
demuxer-max-back-bytes=25MiB

# Video Settings
vo=gpu
hwdec=auto-safe
video-sync=audio
hr-seek=yes
hr-seek-framedrop=yes
vd-lavc-codec=h264  # force software decoding instead of broken libopenh264

# Audio Sync Settings
audio-pitch-correction=yes
audio-buffer=1.0
audio-stream-silence=yes
gapless-audio=no

# YouTube-DL / yt-dlp Settings
ytdl-format=bestvideo[height<=?1440]+bestaudio/bestvideo+bestaudio/best
load-unsafe-playlists=yes
input-ipc-server=/tmp/mpv-socket

# Loop Settings for Specific Extensions
[extension.gif]
loop-file=inf

[extension.webm]
loop-file=inf

[extension.jpg]
pause

[extension.png]
pause

# Audio Profile
[audio]
video=no
force-window=yes
force-window=immediate
ytdl-format=bestaudio
script-opts=osc-layout=box,osc-boxalpha=255

[extension.mp3]
profile=audio

# SMB Protocol (simplified)
[protocol.smb]
cache-secs=8
demuxer-max-bytes=100MiB
demuxer-max-back-bytes=50MiB

# Terminal Settings
[terminal]
player-operation-mode=cplayer
term-osd-bar
msg-module
msg-color

[vr-sbs]
profile-cond=width==2160 and height==1080
vf=crop=1080:1080:0:0
keepaspect=no
geometry=1200x1200  # Set fixed size
video-aspect-override=1:1  # Force square aspect

[vr-4k-sbs]
profile-cond=width==3840 and height==1920
vf=crop=1920:1920:0:0

[vr-generic-sbs]
profile-cond=width/height==2
vf=crop=w=iw/2:h=ih:x=0:y=0

# Twitch
[twitch]
profile-desc=cond:get("path", ""):find("twitch.tv")~=nil

